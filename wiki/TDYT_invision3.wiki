Thông điệp yêu thương tự động cập nhật cho Invision.
By: miamor.


Demo: http://invision.chinhphuc.info


Bước 1: Tạo 1 chuyên mục mới:
Choose the kind of forum you want : Blog
Tên diễn đàn : Thông điệp yêu thương.

Bước 2: Lấy mã số box Thông điệp yêu thương:
Ra ngoài diễn đàn, tìm chuyên mục Thông điệp yêu thương vừa tạo ở bước 1,
click vào đó, sẽ dẫn đến đường link dạng http://link4rbạn/f[...]-forum.
Ví dụ link của 4r mình là: http://invision.chinhphuc.info/f42-forum
thì số 42 là mã số box Thông điệp yêu thương của mình.

Bước 3: Tạo phần hiển thị Thông điệp yêu thương:
Vào widget, tạo 1 widget mới:
<code>
            <div class="lovemes"><br><div style="background:url(http://i15.servimg.com/u/f15/17/70/31/89/sinhvi13.png) no-repeat;height:114px;position:relative;font-family:Comic Sans MS;font-height:bold;">
                        <marquee width="1050px" style="margin-left:80px;margin-top:18px" behavior="scroll" onmouseover="this.stop()"
                        onmouseout="this.start()" scrollamount="3" direction="left">
        <div class="ifcmes"></div>
                        </marquee>
        <a href="/h89-"><img src="http://i15.servimg.com/u/f15/17/70/31/89/sinhvi14.png" style="float:left;position:absolute;bottom:0px;left:0px;border:0" alt="Gửi Message" title="Gửi Message"/></a>
        </div><style>.ifcmess,.ifcmes{white-space:nowrap}.ifcmess img{max-height:50px}.ifcmess br{display:none}.tsnotice{background:url(http://i40.servimg.com/u/f40/17/70/31/89/notice10.png) top left no-repeat;width:100%;height:200px;float:left;margin-right:5px}.ntblock1{width:100%;height:35px}.nttitle{font-size:13px;color:#FFF;font-weight:700;text-shadow:0 1px 1px #590D33;padding:10px}.ntblock2{width:100%;height:165px}.ntcontent{padding:0 10px 0 40px}.ntcontent ul{list-style-type:none;margin:0;padding:0}.ntcontent li{line-height:40px;height:40px;font-size:14px}.tsfb{background:none repeat scroll 0 0 #F9F9F9;border:1px solid #3B5998;border-radius:5px 5px 5px 5px;float:left;height:197px;width:320px}.tsfbcontent{background:none repeat scroll 0 0 #F9F9F9;height:187px;width:300px;margin:5px 10px}</style></div>
</code>

Bước 4: Tạo javascript hiển thị thông điệp yêu thương:
[Phần này đã được ẩn, bạn phải reply để thấy được nội dung trong phần này]
Tạo 1 file javascript mới:

    Title: Thông điệp yêu thương.
    Placement: In all the pages.
    Content:
<code>
                $(function () {
                 $(".ifcmes").after("<div class='dulieu'></div>");
                  $(".dulieu").load("/f42-forum .ipbtable:last tbody tr:lt(8)", function () {
                    var i;
                    for(i = 0; i < 8; i++) {
                      var tacgia = $(this).find('tr:eq(' + i + ') td:last .blog_comments .gensmall a:eq(0)').html();
                        nhan = $(this).find('tr:eq(' + i + ') td:last .topic-title').html();
                        lovemes = $(this).find('tr:eq(' + i + ') td:last .blog_message').html();
                        linktg = $(this).find('tr:eq(' + i + ') td:last .blog_comments .gensmall a:eq(0)').attr("href");
                      $("<span class='ifcmess'><a href='" + linktg + "'>"+tacgia+"</a> nhắn với " + nhan + " : "+lovemes+"                    </span>").appendTo(".ifcmes");
                    }
                    $(this).remove();
                  })
                });</code>

Thay số 42 trong code trên bằng mã số box Thông điệp yêu thương đã lấy ở Bước 2.
Thay số 8 trong code trên bằng số Thông điệp yêu thương bạn muốn hiện.
[Để thông điệp yêu thương hiển thị đẹp, bạn cần gửi từng đấy thông điệp yêu thương.]

Bước 5: Tạo trang HTML smiles cho phần gửi thông điệp:
Vào link http://link4rbạn/smilies.forum?action=smilies&js=no&mode=smilies_frame
Ctrl+U >> Copy bắt đầu từ đoạn

<code>

        <div class="smiley-element">
</code>
đến hết.
Dán đoạn đó vào 1 trang HTML mới, xóa đoạn

<code>

        <div class="clear"></div></body></html>
</code>
ở cuối đi.
Sau đó, tìm các chỗ emoticonp xóa hết chữ p ở cuối đi.

Bước 6: Lấy mã số trang HTML hình vui:
Trang HTML này của bạn sẽ có dạng http://link4rbạn/h[...]-page.
Ví dụ link trang đó của mình là http://invision.chinhphuc.info/h90-page
thì số 90 là mã số trang HTML trang hình vui của mình.

Bước 7: Tạo trang HTML gửi Thông điệp yêu thương:
[Phần này đã được ẩn, bạn phải reply để thấy được nội dung trong phần này]
Tạo một trang HTML mới với nội dung như sau:

<code>

            <div id='noidungne' style='padding:10px; overflow:hidden;'>
                <form action="/post" method="post" name="post" onsubmit="return vB_Editor['text_editor'].prepare_submit(0,0);"
                enctype="multipart/form-data">
                    <table width="100%" border="0" cellspacing="1" cellpadding="0">
                        <tbody>
                            <tr>
                                <td width="12%" nowrap="nowrap"> <span class="gen">
                                    <b>Gửi đến :</b>
                                </span>
                                </td>
                                <td width="88%">
                                    <table cellspacing="0" cellpadding="0">
                                        <tbody>
                                            <tr>
                                                <td width="60%">
                                                    <input class="post gen" style="width:200px; display:inline" type="text"
                                                    name="subject" value="Tất cả thành viên" onblur="if(this.value=='') this.value='Tất cả thành viên';"
                                                    onfocus="if(this.value=='Tất cả thành viên') this.value='';" size="45"
                                                    maxlength="40" tabindex="2" title="" onkeypress="if (event.keyCode==13){return false}">
                                                </td>
                                                <td width="40%"><a onMouseOver="_tooltip(this, 'Chèn emoticon vào thông điệp, 'Thông báo');"
                                                    onMouseOut="hidetip();" id="emoclik" style="font-size:10px" href="#emo"><b>Emoticon</b></a>
                                                    <a
                                                    onMouseOver="show_tooltip(this, 'Chèn emoticon vào thông điệp, 'Thông báo');"
                                                    onMouseOut="hidetip();" id="emoclik2" style="font-size:10px;display:none;"
                                                    href="#emo"><b>Ẩn Emo</b>
                                                        </a>
                                                </td>
                                                <td align="right" width="40">
                                                    <input onClick="set_solved(this.form.elements['subject'],'♥ '), dongtimo()"
                                                    class="mainoption" style="float:right" type="submit" name="post" value="Gửi ..."
                                                    tabindex="6" accesskey="s" />
                                                </td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td nowrap="nowrap" valign="top">
                                    <p style="padding: 2px;"></p><span class="gen"><b>Lời nhắn :</b></span>
                                    <br>
                                </td>
                                <br />
                                <td valign="top">
                                    <p style="padding: 2px;"></p>
                                    <textarea id="c3z_lovemess" class="gen" style="width: 100%; height: 100px; display: inline;"
                                    onClick="storeCaret(this)" onKeyUp="storeCaret(this)" name="message" rows="1"
                                    cols="35" tabindex="3" onSelect="storeCaret(this)" wrap="virtual"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="security"></td>
                                <td>
                                    <div id="xong" style="width: 100%; overflow: auto; margin-top: 6px; display: block;"></div>
                                </td>
                            </tr>
                        </tbody>
                    </table> <b>
                    <input type="hidden" name="lt" value="0">
                    <input type="hidden" name="mode" value="newtopic">
                    <input type="hidden" name="f" value="42">
                </b>
                </form>
            </div>
            </td>
            </tr>
            </tbody>
            </table>
            </p>
            <style type="text/css">
            @charset"utf-8";
             .lovemes table, .lovemes div, .lovemes hr, .lovemes br, .lovemes embed {
                display:none!important
            }
            .lovemes {
                font-weight:bold;
                font-size:11px
            }
            .lovemes img {
                vertical-align: middle;
                max-height:30px
            }
            </style>
            <script>
            jQuery("#emoclik").click(function () {
                jQuery(this).hide();
                jQuery("#emoclik2").show();
                jQuery("#c3z_lovemess").animate({
                    height: "-=50"
                }, 2000);
                jQuery("#xong").animate({
                    height: "+=250"
                }, 2000);
                jQuery.ajax({
                    type: "POST",
                    url: "/h90-",
                    success: function (emo) {
                        jQuery("#xong").html(emo).show("slow");
                    }
                });
            });
            jQuery("#emoclik2").click(function () {
                jQuery(this).hide();
                jQuery("#emoclik").show();
                jQuery("#c3z_lovemess").animate({
                    height: "+=50"
                }, 2000);
                jQuery("#xong").animate({
                    height: "-=250"
                }, 2000);
                jQuery.ajax({
                    type: "POST",
                    url: "/h90-",
                    success: function (emo) {
                        jQuery("#xong").html(emo).hide("slow");
                    }
                });
            });
            </script>
            <script>
            function dongtimo() {
                var t = setTimeout("reloadgiumcon()", 500);
            }
            function reloadgiumcon() {
                window.location.replace("http://invision.chinhphuc.info/forum")
            }
            jQuery(document).ready(function () {
                jQuery(".thongbao").colorbox({
                    width: "52%",
                    innerHeight: "175px",
                    title: 'Gửi Thông Điệp Yêu Thương',
                    inline: true,
                    href: "#noidungne",
                    onOpen: function () {
                        jQuery("#security").load("/post?f=42&mode=newtopic input[name^=auth]");
                    }
                });
            });
            </script>
</code>
Thay các số 42 trong code trên bằng mã số box Thông điệp yêu thương đã lấy ở Bước 2.
Thay số 90 ở chỗ url:"/h90-" bằng mã số trang HTML hình vui đã lấy ở Bước 6.
Thay đoạn link http://invision.chinhphuc.info/forum trong code trên bằng link 4r bạn.

Bước 8: Lấy mã số trang HTML gửi Thông điệp yêu thương:
Trang HTML ở Bước 7 của bạn sẽ có dạng http://link4rbạn/h[...]-page.
Ví dụ link trang đó của mình là http://invision.chinhphuc.info/h89-page
thì số 89 là mã số trang HTML gửi Thông điệp yêu thương của mình.

Bước 9: Tùy chỉnh lần cuối:
Trong code ở Bước 3 có đoạn như thế này href="/h89-", bạn thay số 89 bằng mã số trang HTML gửi Thông điệp yêu thương đã lấy ở Bước 8.

Bước 10: Hưởng thụ thành quả và báo xấu:
Bạn ra 4r bạn và thử gửi Thông điệp yêu thương.
Nếu có lỗi xảy ra, vui lòng thắc mắc tại topic này.
Nhận mọi loại gạch, đá, chai, lọ,... tại topic này Lo lắng
Chỉ nhận các loại gạch, đá có văn hóa, tôn trọng tác giả k có gì để nói