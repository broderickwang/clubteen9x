
    Làm bảng khảo sát trượt dọc forum với mod_poll, chỉ hiển thị một Icon bên trái, không chiếm nhiều diện tích diễn đàn.
    Bảng khảo sát chỉ được hiển thị khi người dùng Click, không làm chậm diễn đàn khi khởi động.
    Xem trước kết quả mà không cần tải lại trang không làm ảnh hưởng đến hoạt động của người dùng.
    Có thể tắt bảng khảo sát vĩnh viễn do được lưu cookie nên không gây khó chịu cho người xem.



Hướng dẫn:

Bước 1: ACP - Display - Templates - Ganeral - overall_footer: Thêm vào bên dưới {PROTECT_FOOTER} (hoặc trước ) đoạn code sau

<code>
    <div id="poll">
        <span>
            X
        </span>
        <div id="polls">
            <div align="center">
                <img border="0" src="http://i48.servimg.com/u/f48/16/58/89/73/vtlai_10.gif"
                />
                <br/>
                Đang tải dữ liệu....
            </div>
        </div>
    </div>
    <div id="danhgiaFMvi">
        <span>
            X
        </span>
        <img src="http://i48.servimg.com/u/f48/16/58/89/73/stock_10.png" alt="poll FMvi"
        />
    </div>
    <script type="text/javascript">
    if (my_getcookie("pollFMvi") == "remove") {
        $("#danhgiaFMvi, #poll").remove();
    };
    $("#danhgiaFMvi span").click(function() {
        $("#danhgiaFMvi").remove();
        my_setcookie("pollFMvi", "remove", true);
    });
    $("#poll span").click(function() {
        $("#poll").hide();
    });
    $("#danhgiaFMvi img").click(function() {
        $("#poll").show().find("#polls").load("/portal #pollFMvi", function() {
            $("a[href$='vote=viewresult']").click(function() {
                $("#polls").html('<div align="center"><img border="0" src="http://i48.servimg.com/u/f48/16/58/89/73/vtlai_10.gif"/><br/>Đang tải dữ liệu....</div>').load($(this).attr("href") + " #pollFMvi");
                return false;
            });
        });
    });
    </script>

</code>


Bước 2: ACP - Display - Templates - Portal - mod_poll: Thay toàn bộ bằng code sau

<code>
    <div id="pollFMvi" class="module main">
       <div class="main-head">
          <a name="sondage"></a>
          <h2>Bảng khảo sát</h2>
       </div>
       <div class="main-content">
          {POLL_DISPLAY}
       </div>
    </div>
</code>



Bước 3: ACP - Display - Pictures and Colors - Color - CSS Stylesheet: Thêm vào đoạn CSS sau

<code>
    #pollFMvi p, #pollFMvi h4{margin-bottom:10px}
    #pollFMvi fieldset{border:0}
    #pollFMvi h2{font-size:18px;background-color:transparent;border:0 none;color:#FF0;font-family:Comic Sans Ms;font-variant:small-caps;font-weight:500;letter-spacing:-1px;opacity:1;padding-left:10px;padding-right:5px;text-decoration:none;text-shadow:1px 1px 1px #444;text-transform:capitalize}
    #pollFMvi .main-content{background-color:background;color:#FFF;float:left;line-height:18px;width:274px;padding:15px}
    #poll{display:none;background:none repeat scroll 0 0 padding-box rgba(0,0,0,0.65);border-radius:4px 4px 4px 4px;font-family:Tahoma;font-size:12px;left:50%;top:50%;color:#fff;position:fixed;margin-top:-150px;height:auto;width:306px;margin-left:-150px;padding:5px}
    #poll span{font-family:Tahoma;font-size:18px;color:red;position:absolute;cursor:pointer;z-index:10;margin-left:280px;margin-top:10px}
    #danhgiaFMvi{background:none repeat scroll 0 0 padding-box rgba(0,0,0,0.65);border-radius:4px 4px 4px 4px;left:20px;top:20px;color:#fff;position:fixed;padding:5px}
    #danhgiaFMvi span{font-family:Tahoma;font-size:18px;color:red;position:absolute;cursor:pointer;z-index:10}
    #pollFMvi .main-head{background-color:#069;color:#DEDFDF;font-weight:400;padding:.7em 1.3em}
    #pollFMvi input[name=submit]{-moz-border-bottom-colors:none;-moz-border-image:none;-moz-border-left-colors:none;-moz-border-right-colors:none;-moz-border-top-colors:none;border-radius:3px 3px 3px 3px;box-shadow:0 0 1px #FFF inset;color:#555;font-size:11px;font-weight:700;height:2.95em;text-shadow:0 1px 0 #FFF;border-color:#CCC #CCC #AAA;border-style:solid;border-width:1px;padding:0 .91em}


</code>

Bước 4: Bật portal và đặt widget Polls vào vị trí bất kỳ. Khi người dùng Click vào bảng khảo sát thì dữ liệu sẽ được lấy từ đây.

Lưu ý: Để mod_poll hoạt động bạn phải tạo bài viết có bảng khảo sát, và phải lựa chọn bảng khảo sát trong widget polls.

[+] Nếu bạn muốn sao chép hướng dẫn này đi nơi khác vui lòng không thay đổi bất kỳ thành phần nào trong code và phải ghi bản quyền thuộc www.FMvi.org